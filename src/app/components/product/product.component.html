<script src="https://cdn.tailwindcss.com"></script>

<div class="max-w-4xl mx-auto p-8 bg-white dark:bg-gray-900 rounded-2xl shadow-md transition-colors duration-300">
  <h1 class="text-3xl font-extrabold text-green-600 dark:text-green-400 mb-8 text-center">
    Add New Product
  </h1>

  <form [formGroup]="productForm" (ngSubmit)="submitProduct()" class="space-y-6">

    <!-- Product Name -->
    <div>
      <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-1">
        Product Name <span class="text-red-500">*</span>
      </label>
      <input
        type="text"
        formControlName="name"
        placeholder="E.g., Golden Apples"
        class="w-full rounded-lg border px-4 py-2 focus:ring-green-400 focus:border-green-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"
      />
    </div>

    <!-- Description -->
    <div>
      <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-1">
        Description <span class="text-red-500">*</span>
      </label>
      <textarea
        formControlName="description"
        rows="3"
        placeholder="Briefly describe the product"
        class="w-full rounded-lg border px-4 py-2 resize-y focus:ring-green-400 focus:border-green-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"
      ></textarea>
    </div>

    <!-- Category, Type, Variety -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Category <span class="text-red-500">*</span></label>
        <select formControlName="category" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
          <option value="" disabled>Select a category</option>
          <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
        </select>
      </div>

      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Type <span class="text-red-500">*</span></label>
        <input type="text" formControlName="type" placeholder="E.g., Fuji" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" />
      </div>

      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Variety <span class="text-red-500">*</span></label>
        <input type="text" formControlName="variety" placeholder="E.g., Organic" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" />
      </div>
    </div>

    <!-- Grade, Quantity, Unit -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Grade <span class="text-red-500">*</span></label>
        <select formControlName="grade" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
          <option *ngFor="let g of grades" [value]="g">{{ g }}</option>
        </select>
      </div>

      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Quantity <span class="text-red-500">*</span></label>
        <input type="number" formControlName="quantity" min="0" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" />
      </div>

      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Unit <span class="text-red-500">*</span></label>
        <select formControlName="unit" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
          <option *ngFor="let u of units" [value]="u">{{ u }}</option>
        </select>
      </div>
    </div>

    <!-- Price -->
    <div>
      <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Price Per Unit (â‚¹) <span class="text-red-500">*</span></label>
      <input type="number" formControlName="pricePerUnit" min="0" step="0.01" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" />
    </div>

    <!-- Availability -->
    <div class="flex items-center gap-3">
      <input type="checkbox" formControlName="availability" class="h-5 w-5 text-green-600 rounded focus:ring-green-500 border-gray-300 dark:border-gray-600" />
      <label class="text-gray-700 dark:text-gray-300 font-semibold">Available for Sale</label>
    </div>

    <!-- Location -->
    <div>
      <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Location <span class="text-red-500">*</span></label>
      <input type="text" formControlName="location" placeholder="E.g., Jaipur, Rajasthan" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" />
    </div>

    <!-- Dates -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Harvest Date <span class="text-red-500">*</span></label>
        <input type="date" formControlName="harvestDate" max="{{ today }}" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" />
      </div>

      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-300 mb-1">Expiry Date <span class="text-red-500">*</span></label>
        <input type="date" formControlName="expiryDate" [min]="productForm.value.harvestDate" class="w-full rounded-lg border px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" />
      </div>
    </div>

    <!-- Submit Button -->
    <div class="text-center">
      <button type="submit" [disabled]="productForm.invalid" class="px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-2xl shadow">
        Submit Product
      </button>
    </div>
  </form>
</div>
