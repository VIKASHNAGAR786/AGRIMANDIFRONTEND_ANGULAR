<h3 class="text-3xl font-bold mb-8 text-gray-900 dark:text-white tracking-tight">
  Your Products
</h3>

<!-- Loader -->
<div *ngIf="loading" 
     class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-md z-50">
  <div class="flex flex-col items-center space-y-6">
    <!-- Spinner with Glow -->
    <div class="relative">
      <div class="w-20 h-20 rounded-full border-4 border-transparent border-t-green-500 animate-spin"></div>
      <div class="absolute inset-0 rounded-full border-4 border-green-400 opacity-30 blur-md"></div>
    </div>
    <!-- Message -->
    <p class="text-white text-lg font-semibold tracking-wide animate-pulse">
      ðŸŒ± Fetching your products...
    </p>
    <!-- Progress Bar (extra polish) -->
    <div class="w-48 h-2 bg-gray-700 rounded-full overflow-hidden">
      <div class="h-full bg-green-500 animate-[progress_2s_infinite]"></div>
    </div>
  </div>
</div>


<!-- Products List -->
<ng-container *ngIf="!loading && products1.length > 0; else noProducts">
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    <div *ngFor="let product1 of products1"
      class="bg-white dark:bg-gray-800 shadow-md rounded-3xl p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 border border-gray-200 dark:border-gray-700">

      <!-- Product Name -->
      <h4 class="text-xl font-bold text-gray-900 dark:text-white mb-3">
        {{ product1.name }}
      </h4>

      <!-- Product Details -->
      <div class="text-gray-700 dark:text-gray-300 space-y-2 text-sm md:text-base">
        <p><span class="font-medium">Category:</span> {{ product1.category }}</p>
        <p><span class="font-medium">Grade:</span> {{ product1.grade }}</p>
        <p><span class="font-medium">Quantity:</span> {{ product1.quantity }} {{ product1.unit }}</p>
        <p><span class="font-medium">Price/Unit:</span> â‚¹{{ product1.pricePerUnit }}</p>
        <p class="font-medium text-gray-900 dark:text-gray-100">
          Total: â‚¹{{ product1.totalPrice }}
        </p>

        <!-- Status -->
        <p>
          <span class="font-medium">Status:</span>
          <span class="ml-2 px-3 py-1 rounded-full text-xs font-semibold tracking-wide" [ngClass]="{
            'bg-green-100 text-green-700': product1.status === 'Approved',
            'bg-yellow-100 text-yellow-700': product1.status === 'Pending',
            'bg-red-100 text-red-700': product1.status === 'Rejected'
          }">
            {{ product1.status }}
          </span>
        </p>

        <!-- Availability -->
        <p>
          <span class="font-medium">Availability:</span>
          <span class="ml-2 px-3 py-1 text-xs font-semibold rounded-full" [ngClass]="{
            'bg-green-200 text-green-800': product1.availability,
            'bg-red-200 text-red-800': !product1.availability
          }">
            {{ product1.availability ? 'Available' : 'Not Available' }}
          </span>
        </p>
      </div>

      <!-- Action Buttons -->
      <div class="mt-6 flex flex-wrap gap-3">
        <button
          class="px-4 py-2 bg-blue-600 text-white text-sm rounded-xl shadow hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 transition">
          Edit
        </button>
        <button
          class="px-4 py-2 bg-red-500 text-white text-sm rounded-xl shadow hover:bg-red-600 focus:ring-2 focus:ring-red-400 transition">
          Delete
        </button>
        <button
          class="px-4 py-2 bg-green-600 text-white text-sm rounded-xl shadow hover:bg-green-700 focus:ring-2 focus:ring-green-400 transition">
          Mark as Sold
        </button>
      </div>
    </div>
  </div>
</ng-container>

<!-- Empty State -->
<ng-template #noProducts>
  <div *ngIf="!loading" class="flex flex-col items-center justify-center py-16">
    <div class="w-24 h-24 mb-6 text-gray-400">
      <!-- Empty box icon (Heroicons) -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
        stroke-width="1.5" stroke="currentColor" class="w-full h-full">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M21 12.75V6.75a2.25 2.25 0 00-2.25-2.25h-4.5A2.25 2.25 0 0012 6.75v6m0 0v6m0-6h6.75M12 12h-6.75" />
      </svg>
    </div>
    <p class="text-lg font-medium text-gray-600 dark:text-gray-300">
      No products found
    </p>
    <p class="text-sm text-gray-400 dark:text-gray-500 mt-2">
      Add your first product to get started!
    </p>
    <button
    (click)=openAddProductPage()
      class="mt-6 px-5 py-2 bg-green-600 text-white rounded-xl shadow hover:bg-green-700 transition">
       + Add Product
    </button>
  </div>
</ng-template>
