<div class="relative w-full max-w-md">
  <!-- Search Input -->
  <div class="relative group">
    <span
      class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#00ffee] transition-colors"
    >
      🔍
    </span>
    <input
      type="text"
      placeholder="Search products, buyers, tabs..."
      [(ngModel)]="query"
      (input)="onSearch()"
      autocomplete="new-password"
      class="w-full pl-10 pr-10 py-2.5 rounded-2xl bg-white/80 
             text-gray-800 placeholder-gray-500 
             shadow-sm focus:outline-none 
             focus:ring-2 focus:ring-[#00ffee] 
             focus:bg-white/95 backdrop-blur-sm
             transition duration-200"
    />
    <!-- Clear Button -->
    <button
      *ngIf="query"
      (click)="query=''; results=[]; highlightedIndex=-1"
      class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 
             hover:text-red-500 transition-colors"
      aria-label="Clear search"
    >
      ✕
    </button>
  </div>

  <!-- Suggestions Dropdown -->
  <div
    *ngIf="query"
    class="absolute left-0 right-0 mt-3 bg-white border border-gray-200 
           rounded-2xl shadow-xl overflow-hidden z-50 animate-fadeIn"
  >
    <ul
      *ngIf="results.length > 0; else noResults"
      class="max-h-72 overflow-y-auto divide-y divide-gray-100"
    >
      <li
        *ngFor="let item of results; let i = index"
        (click)="selectItem(item)"
        [ngClass]="{
          'bg-[#00ffee]/10': isHighlighted(i),
          'hover:bg-[#00ffee]/10': !isHighlighted(i)
        }"
        class="px-4 py-2.5 cursor-pointer flex items-center gap-3 transition"
      >
        <i *ngIf="item.icon" [class]="item.icon + ' text-[#00b8aa] text-lg'"></i>
        <span class="text-gray-800 font-medium">{{ item.label }}</span>
      </li>
    </ul>

    <!-- No Results -->
    <ng-template #noResults>
      <div class="px-4 py-3 text-gray-500 text-sm text-center">
        🚫 No results found
      </div>
    </ng-template>
  </div>
</div>
