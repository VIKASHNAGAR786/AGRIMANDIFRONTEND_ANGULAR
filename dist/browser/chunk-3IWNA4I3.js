import{q as ce}from"./chunk-5OO754BD.js";import{B as K,C as O,D as W,G as Z,I as L,Ka as ee,Mb as le,Nb as ue,O as _,Pa as C,Q as U,Ua as te,Ub as he,V as u,Va as ne,W as k,Xa as ie,Y as v,_ as o,a as R,ga as Q,ha as Y,hb as f,ib as b,ka as A,mb as se,pb as ae,qa as V,s as m,u as c,wb as re,x as N,xb as D,zb as oe}from"./chunk-SR3MDXF7.js";var d=class{},fe=(()=>{class t extends d{getTranslation(e){return m({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=A(t)))(i||t)}})();static \u0275prov=u({token:t,factory:t.\u0275fac})}return t})(),S=class{},de=(()=>{class t{handle(e){return e.key}static \u0275fac=function(n){return new(n||t)};static \u0275prov=u({token:t,factory:t.\u0275fac})}return t})();function F(t,a){if(t===a)return!0;if(t===null||a===null)return!1;if(t!==t&&a!==a)return!0;let e=typeof t,n=typeof a,i,s,r;if(e==n&&e=="object")if(Array.isArray(t)){if(!Array.isArray(a))return!1;if((i=t.length)==a.length){for(s=0;s<i;s++)if(!F(t[s],a[s]))return!1;return!0}}else{if(Array.isArray(a))return!1;r=Object.create(null);for(s in t){if(!F(t[s],a[s]))return!1;r[s]=!0}for(s in a)if(!(s in r)&&typeof a[s]<"u")return!1;return!0}return!1}function h(t){return typeof t<"u"&&t!==null}function E(t){return x(t)&&!X(t)&&t!==null}function x(t){return typeof t=="object"}function X(t){return Array.isArray(t)}function z(t){return typeof t=="string"}function Te(t){return typeof t=="function"}function B(t,a){let e=Object.assign({},t);return x(t)?(x(t)&&x(a)&&Object.keys(a).forEach(n=>{E(a[n])?n in t?e[n]=B(t[n],a[n]):Object.assign(e,{[n]:a[n]}):Object.assign(e,{[n]:a[n]})}),e):B({},a)}function G(t,a){let e=a.split(".");a="";do a+=e.shift(),h(t)&&h(t[a])&&(E(t[a])||X(t[a])||!e.length)?(t=t[a],a=""):e.length?a+=".":t=void 0;while(e.length);return t}function Se(t,a,e){let n=a.split("."),i=t;for(let s=0;s<n.length;s++){let r=n[s];s===n.length-1?i[r]=e:((!i[r]||!E(i[r]))&&(i[r]={}),i=i[r])}}var g=class{},ge=(()=>{class t extends g{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,n){if(z(e))return this.interpolateString(e,n);if(Te(e))return this.interpolateFunction(e,n)}interpolateFunction(e,n){return e(n)}interpolateString(e,n){return n?e.replace(this.templateMatcher,(i,s)=>{let r=G(n,s);return h(r)?r:i}):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=A(t)))(i||t)}})();static \u0275prov=u({token:t,factory:t.\u0275fac})}return t})(),p=class{},pe=(()=>{class t extends p{compile(e,n){return e}compileTranslations(e,n){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=A(t)))(i||t)}})();static \u0275prov=u({token:t,factory:t.\u0275fac})}return t})(),y=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new V;onLangChange=new V;onDefaultLangChange=new V},H=new v("ISOLATE_TRANSLATE_SERVICE"),$=new v("USE_DEFAULT_LANG"),q=new v("DEFAULT_LANGUAGE"),J=new v("USE_EXTEND"),T=t=>c(t)?t:m(t),w=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,n,i,s,r,P=!0,l=!1,j=!1,I){this.store=e,this.currentLoader=n,this.compiler=i,this.parser=s,this.missingTranslationHandler=r,this.useDefaultLang=P,this.extend=j,l&&(this.store=new y),I&&this.setDefaultLang(I)}setDefaultLang(e){if(e===this.defaultLang)return;let n=this.retrieveTranslations(e);typeof n<"u"?(this.defaultLang==null&&(this.defaultLang=e),n.pipe(L(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return m(this.translations[e]);this.currentLang||(this.currentLang=e);let n=this.retrieveTranslations(e);return c(n)?(n.pipe(L(1)).subscribe(()=>{this.changeLang(e)}),n):(this.changeLang(e),m(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;let n=this.currentLoader.getTranslation(e).pipe(_(1),L(1));return this.loadingTranslations=n.pipe(N(i=>this.compiler.compileTranslations(i,e)),_(1),L(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?R(R({},i),this.translations[e]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),n}setTranslation(e,n,i=!1){let s=this.compiler.compileTranslations(n,e);(i||this.extend)&&this.translations[e]?this.translations[e]=B(this.translations[e],s):this.translations[e]=s,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){let n=e.filter(i=>!this.langs.includes(i));n.length>0&&(this.langs=[...this.langs,...n])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,n,i){let s;if(e&&(s=this.runInterpolation(G(e,n),i)),s===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.runInterpolation(G(this.translations[this.defaultLang],n),i)),s===void 0){let r={key:n,translateService:this};typeof i<"u"&&(r.interpolateParams=i),s=this.missingTranslationHandler.handle(r)}return s!==void 0?s:n}runInterpolation(e,n){if(X(e))return e.map(i=>this.runInterpolation(i,n));if(E(e)){let i={};for(let s in e){let r=this.runInterpolation(e[s],n);r!==void 0&&(i[s]=r)}return i}else return this.parser.interpolate(e,n)}getParsedResult(e,n,i){if(n instanceof Array){let s={},r=!1;for(let l of n)s[l]=this.getParsedResultForKey(e,l,i),r=r||c(s[l]);if(!r)return s;let P=n.map(l=>T(s[l]));return W(P).pipe(N(l=>{let j={};return l.forEach((I,De)=>{j[n[De]]=I}),j}))}return this.getParsedResultForKey(e,n,i)}get(e,n){if(!h(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Z(i=>T(this.getParsedResult(i,e,n)))):T(this.getParsedResult(this.translations[this.currentLang],e,n))}getStreamOnTranslationChange(e,n){if(!h(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return K(O(()=>this.get(e,n)),this.onTranslationChange.pipe(U(i=>{let s=this.getParsedResult(i.translations,e,n);return T(s)})))}stream(e,n){if(!h(e)||!e.length)throw new Error('Parameter "key" required');return K(O(()=>this.get(e,n)),this.onLangChange.pipe(U(i=>{let s=this.getParsedResult(i.translations,e,n);return T(s)})))}instant(e,n){if(!h(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let i=this.getParsedResult(this.translations[this.currentLang],e,n);return c(i)?Array.isArray(e)?e.reduce((s,r)=>(s[r]=r,s),{}):e:i}set(e,n,i=this.currentLang){Se(this.translations[i],e,z(n)?this.compiler.compile(n,i):this.compiler.compileTranslations(n,i)),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(n){return new(n||t)(o(y),o(d),o(p),o(g),o(S),o($),o(H),o(J),o(q))};static \u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Le=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,n){this.translate=e,this._ref=n}updateValue(e,n,i){let s=r=>{this.value=r!==void 0?r:e,this.lastKey=e,this._ref.markForCheck()};if(i){let r=this.translate.getParsedResult(i,e,n);c(r)?r.subscribe(s):s(r)}this.translate.get(e,n).subscribe(s)}transform(e,...n){if(!e||!e.length)return e;if(F(e,this.lastKey)&&F(n,this.lastParams))return this.value;let i;if(h(n[0])&&n.length)if(z(n[0])&&n[0].length){let s=n[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{i=JSON.parse(s)}catch(r){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else E(n[0])&&(i=n[0]);return this.lastKey=e,this.lastParams=n,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||t)(C(w,16),C(he,16))};static \u0275pipe=ie({name:"translate",type:t,pure:!1});static \u0275prov=u({token:t,factory:t.\u0275fac})}return t})();var ve=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:d,useClass:fe},e.compiler||{provide:p,useClass:pe},e.parser||{provide:g,useClass:ge},e.missingTranslationHandler||{provide:S,useClass:de},y,{provide:H,useValue:e.isolate},{provide:$,useValue:e.useDefaultLang},{provide:J,useValue:e.extend},{provide:q,useValue:e.defaultLanguage},w]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:d,useClass:fe},e.compiler||{provide:p,useClass:pe},e.parser||{provide:g,useClass:ge},e.missingTranslationHandler||{provide:S,useClass:de},{provide:H,useValue:e.isolate},{provide:$,useValue:e.useDefaultLang},{provide:J,useValue:e.extend},{provide:q,useValue:e.defaultLanguage},w]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=ne({type:t});static \u0275inj=k({})}return t})();var M=class t{constructor(a){this.translate=a;this.translate.setDefaultLang("en"),this.translate.use("en")}setLanguage(a){this.translate.use(a)}get currentLang(){return this.translate.currentLang}translateKey(a){return this.translate.instant(a)}onLangChange(a){this.translate.onLangChange.subscribe(e=>a(e.lang))}static \u0275fac=function(e){return new(e||t)(o(w))};static \u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})};var be=class t{constructor(a){this.settingService=a}ngOnInit(){this.settingService.setLanguage("en")}onLangChange(a){this.settingService.setLanguage(a)}static \u0275fac=function(e){return new(e||t)(C(M))};static \u0275cmp=te({type:t,selectors:[["app-setting"]],decls:12,vars:3,consts:[["langSelect",""],[1,"min-h-screen","flex","flex-col","justify-center","items-center","bg-gray-100"],["for","lang",1,"mb-2","text-lg","font-semibold"],["id","lang",1,"p-2","border","rounded","mb-6","shadow-md","bg-white",3,"change"],["value","en"],["value","hi"],[1,"text-2xl","font-bold","text-green-700"]],template:function(e,n){if(e&1){let i=se();f(0,"div",1)(1,"label",2),D(2,"\u{1F310} Choose Language:"),b(),f(3,"select",3,0),ae("change",function(){Q(i);let r=re(4);return Y(n.onLangChange(r.value))}),f(5,"option",4),D(6,"English"),b(),f(7,"option",5),D(8,"\u0939\u093F\u0928\u094D\u0926\u0940"),b()(),f(9,"h2",6),D(10),le(11,"translate"),b()()}e&2&&(ee(10),oe(" ",ue(11,1,"DEMO.CAR")," "))},dependencies:[ce,ve,Le],encapsulation:2})};export{be as SettingComponent};
