import{a as i}from"./chunk-NLJOITTN.js";import{a as P}from"./chunk-JFGKKBV5.js";import{b as m,c as n,d as h}from"./chunk-LO4VKSRB.js";import{u as p}from"./chunk-YLYAE3YR.js";import{V as u,_ as s,s as o,za as l}from"./chunk-FFU2WZLN.js";var f=class a{constructor(r,t,e){this.http=r;this.platformId=t;this.userInfo=e}getFarmerIdUrl=i.APIUrl+"Product/GetFarmerId";apiUrl=i.APIUrl+"Product/Saveproduct";GetAllProductUrl=i.APIUrl+"Product/GetAllProduct";GetProductByIdUrl=i.APIUrl+"Product/GetProductById";GetProductReportPdfUrl=i.APIUrl+"Product/GetProductPdf";GetProductByFarmerIdUrl=i.APIUrl+"Farmer/Getproductbyfarmerid";getAuthHeaders(){if(p(this.platformId)){let r=this.userInfo.getToken();return new m({Authorization:`Bearer ${r}`})}return null}saveproduct(r){let t=this.getAuthHeaders();return t?this.http.post(this.apiUrl,r,{headers:t}):o(null)}getFarmerId(r,t){let e=this.getAuthHeaders();return e?this.http.get(`${this.getFarmerIdUrl}?email=${r}&name=${t}`,{headers:e}):o(null)}GetAllProduct(r){let t=this.getAuthHeaders(),e={};r&&Object.entries(r).forEach(([b,c])=>{c!=null&&(e[b]=c)});let d=new n({fromObject:e});return t?this.http.get(this.GetAllProductUrl,{params:d,headers:t}):o([])}GetProductById(r){let t=this.getAuthHeaders(),e=`${this.GetProductByIdUrl}?productid=${r}`;return t?this.http.get(e,{headers:t}):o(null)}getProductPdf(r){let t=this.getAuthHeaders();return t?this.http.get(`${this.GetProductReportPdfUrl}`,{params:new n().set("productid",r.toString()),responseType:"blob",headers:t}):o(new Blob)}getProductByFarmerId(r,t){let e=this.getAuthHeaders(),d=new n().set("id",r).set("email",t);return e?this.http.get(this.GetProductByFarmerIdUrl,{params:d,headers:e}):o([])}static \u0275fac=function(t){return new(t||a)(s(h),s(l),s(P))};static \u0275prov=u({token:a,factory:a.\u0275fac,providedIn:"root"})};export{f as a};
