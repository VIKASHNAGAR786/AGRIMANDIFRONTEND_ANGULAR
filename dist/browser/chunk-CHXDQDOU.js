import{a as te}from"./chunk-TX7GZHKA.js";import{a as ee}from"./chunk-5RTZGLF2.js";import{b as j,d as U,e as R,g as z,i as q,j as G,k as H,n as Q,o as J,p as K,t as X}from"./chunk-VYT3RLMY.js";import{a as Z}from"./chunk-BA2J2MWB.js";import{a as ie}from"./chunk-4W5ANO5I.js";import{a as Y}from"./chunk-NLJOITTN.js";import{a as $}from"./chunk-PQ4VLYEJ.js";import{j as B,l as W}from"./chunk-LO4VKSRB.js";import{l as D,m as O,q as N,r as L,s as T}from"./chunk-YLYAE3YR.js";import{Ab as I,Cb as x,Db as b,Eb as y,Ka as a,Lb as C,Mb as V,Ob as A,Pa as p,Ua as E,Za as h,eb as f,ga as c,ha as m,hb as i,ia as M,ib as r,ja as S,jb as s,mb as P,pb as v,qb as d,rb as F,xb as o,yb as w,za as k,zb as _}from"./chunk-FFU2WZLN.js";function ne(g,u){g&1&&(i(0,"div",2)(1,"div",3)(2,"div",4),s(3,"div",5),i(4,"div",6),M(),i(5,"svg",7),s(6,"path",8),r()()(),S(),i(7,"p",9),o(8," \u{1F4E6} Loading your inventory... "),r(),i(9,"div",10),s(10,"div",11),r()()())}function oe(g,u){if(g&1){let t=P();i(0,"div",43)(1,"div",44)(2,"div",45)(3,"h5",46),o(4),r(),i(5,"p",47),o(6),C(7,"slice"),r(),i(8,"div",48)(9,"span",49),o(10),r(),i(11,"span",50),o(12),r()(),i(13,"ul",51)(14,"li",52)(15,"strong"),o(16,"Qty:"),r(),o(17),r(),i(18,"li",52)(19,"strong"),o(20,"\u20B9/Unit:"),r(),o(21),r(),i(22,"li",52)(23,"strong"),o(24,"Location:"),r(),o(25),r(),i(26,"li",52)(27,"strong"),o(28,"Harvest:"),r(),o(29),C(30,"date"),r()(),i(31,"div",53)(32,"button",54),v("click",function(){c(t);let n=d(2);return m(n.buyProduct())}),o(33,"Contact Farmer"),r(),i(34,"button",55),v("click",function(){let n=c(t).$implicit,l=d(2);return m(l.viewDetails(n))}),o(35,"Detail View"),r(),i(36,"button",56),v("click",function(){c(t);let n=d(2);return m(n.buyProduct())}),o(37,"Buy"),r()()()()()}if(g&2){let t=u.$implicit;a(3),F("title",t.name),a(),w(t.name),a(2),_("",A(7,10,t.description,0,60),"..."),a(4),w(t.category),a(2),w(t.grade),a(5),I(" ",t.quantity," ",t.unit,""),a(4),_(" \u20B9",t.pricePerUnit,""),a(4),_(" ",t.location,""),a(4),_(" ",V(30,14,t.harvestDate),"")}}function ae(g,u){if(g&1){let t=P();i(0,"div",12)(1,"div",13)(2,"h3",14),o(3,"\u{1F50D} Filter Products"),r(),i(4,"form",15),v("ngSubmit",function(){c(t);let n=d();return m(n.loadAllProducts(n.filterForm))}),i(5,"div")(6,"label",16),s(7,"i",17),o(8,"Product Name "),r(),i(9,"input",18),y("ngModelChange",function(n){c(t);let l=d();return b(l.filterForm.Name,n)||(l.filterForm.Name=n),m(n)}),r()(),i(10,"div")(11,"label",19),s(12,"i",20),o(13,"Category "),r(),i(14,"input",21),y("ngModelChange",function(n){c(t);let l=d();return b(l.filterForm.Category,n)||(l.filterForm.Category=n),m(n)}),r()(),i(15,"div")(16,"label",22),s(17,"i",23),o(18,"Location "),r(),i(19,"input",24),y("ngModelChange",function(n){c(t);let l=d();return b(l.filterForm.Location,n)||(l.filterForm.Location=n),m(n)}),r()(),i(20,"div")(21,"label",25),s(22,"i",26),o(23,"Availability "),r(),i(24,"select",27),y("ngModelChange",function(n){c(t);let l=d();return b(l.filterForm.Availability,n)||(l.filterForm.Availability=n),m(n)}),i(25,"option",28),o(26,"-- All --"),r(),i(27,"option",29),o(28,"Available"),r(),i(29,"option",29),o(30,"Not Available"),r()()(),i(31,"div")(32,"label",30),s(33,"i",31),o(34,"Min Price "),r(),i(35,"input",32),y("ngModelChange",function(n){c(t);let l=d();return b(l.filterForm.MinPrice,n)||(l.filterForm.MinPrice=n),m(n)}),r()(),i(36,"div")(37,"label",33),s(38,"i",34),o(39,"Max Price "),r(),i(40,"input",35),y("ngModelChange",function(n){c(t);let l=d();return b(l.filterForm.MaxPrice,n)||(l.filterForm.MaxPrice=n),m(n)}),r()(),i(41,"div",36)(42,"button",37),s(43,"i",38),o(44,"Search "),r()(),i(45,"div",36)(46,"button",39),v("click",function(){c(t);let n=d();return m(n.resetFilters())}),s(47,"i",40),o(48,"Reset "),r()()()(),i(49,"div",41),h(50,oe,38,16,"div",42),r()()}if(g&2){let t=d();a(9),x("ngModel",t.filterForm.Name),a(5),x("ngModel",t.filterForm.Category),a(5),x("ngModel",t.filterForm.Location),a(5),x("ngModel",t.filterForm.Availability),a(),f("ngValue",null),a(2),f("value",!0),a(2),f("value",!1),a(6),x("ngModel",t.filterForm.MinPrice),a(5),x("ngModel",t.filterForm.MaxPrice),a(10),f("ngForOf",t.products)}}var re=class g{constructor(u,t,e,n,l,le,de,ce){this.productService=u;this.router=t;this.route=e;this.platformId=n;this.alertService=l;this.messageService=le;this.notificationservice=de;this.userInfo=ce}products=[];selectedproduct=null;filterForm={Name:"",Category:"",Location:"",MinPrice:null,MaxPrice:null,Availability:null};BASE_URL=Y.BASE_URL;loading=!0;ngOnInit(){this.checkAndLoadData()}resetFilters(){this.filterForm={Name:"",Category:"",Location:"",Availability:null,MinPrice:null,MaxPrice:null},this.loadAllProducts(this.filterForm)}checkAndLoadData(){this.loadAllProducts()}loadAllProducts(u=null){this.loading=!0,this.productService.GetAllProduct(u||void 0).subscribe({next:t=>{this.products=t.map(e=>({productid:e.productid,name:e.name,description:e.description,category:e.category,type:e.type,variety:e.variety,grade:e.grade,quantity:e.quantity,unit:e.unit,pricePerUnit:e.pricePerUnit,totalPrice:e.totalPrice,availability:e.availability,location:e.location,harvestDate:e.harvestDate,expiryDate:e.expiryDate,storageCondition:e.storageCondition,packagingType:e.packagingType,certification:e.certification,imageUrl:e.imageUrl?`${this.BASE_URL}/ProductImages/${e.imageUrl}`:void 0,farmerId:e.farmerId,addedDate:e.addedDate,updatedDate:e.updatedDate,status:e.status})),this.loading=!1,this.selectedproduct=null},error:t=>{this.loading=!1,this.alertService.showAlert("\u274C Error fetching products: Please Login first","error")}})}viewDetails(u){this.router.navigate(["products",u.productid])}buyProduct(){this.router.navigate(["/product-buy"])}contactMessage="";static \u0275fac=function(t){return new(t||g)(p(ee),p(W),p(B),p(k),p(Z),p(te),p(ie),p($))};static \u0275cmp=E({type:g,selectors:[["app-productinventory"]],decls:2,vars:2,consts:[["class","fixed inset-0 flex items-center justify-center bg-gradient-to-br from-green-900/80 via-black/80 to-green-950/80 backdrop-blur-md z-50",4,"ngIf"],["class","w-full px-4 my-5",4,"ngIf"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-gradient-to-br","from-green-900/80","via-black/80","to-green-950/80","backdrop-blur-md","z-50"],[1,"flex","flex-col","items-center","space-y-8"],[1,"relative"],[1,"w-24","h-24","rounded-full","border-4","border-transparent","border-t-green-400","animate-spin"],[1,"absolute","inset-4","bg-gradient-to-br","from-green-500","to-green-600","rounded-lg","shadow-lg","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-8","h-8","text-white","animate-bounce"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 7l9-4 9 4-9 4-9-4zM3 17l9 4 9-4M3 12l9 4 9-4"],[1,"text-green-100","text-xl","font-bold","tracking-wide","animate-pulse"],[1,"w-64","h-3","bg-green-900","rounded-full","overflow-hidden","shadow-inner"],[1,"h-full","bg-gradient-to-r","from-green-400","to-green-600","animate-[progressFill_2s_infinite]"],[1,"w-full","px-4","my-5"],[1,"bg-white","dark:bg-gray-900","shadow-lg","border","border-gray-200","dark:border-gray-800","rounded-3xl","p-6","mb-8"],[1,"text-2xl","font-semibold","text-gray-800","dark:text-white","mb-6"],["autocomplete","off",1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","xl:grid-cols-4","gap-6",3,"ngSubmit"],["for","name",1,"block","text-gray-700","dark:text-gray-300","mb-2","font-medium"],[1,"bi","bi-box-seam","mr-2"],["type","text","id","name","name","name","placeholder","Enter product name",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-300","dark:border-gray-700","bg-white","dark:bg-gray-800","text-gray-800","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-green-500","transition",3,"ngModelChange","ngModel"],["for","category",1,"block","text-gray-700","dark:text-gray-300","mb-2","font-medium"],[1,"bi","bi-tags","mr-2"],["type","text","id","category","name","category","placeholder","Enter category",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-300","dark:border-gray-700","bg-white","dark:bg-gray-800","text-gray-800","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-green-500","transition",3,"ngModelChange","ngModel"],["for","location",1,"block","text-gray-700","dark:text-gray-300","mb-2","font-medium"],[1,"bi","bi-geo-alt","mr-2"],["type","text","id","location","name","location","placeholder","Enter location",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-300","dark:border-gray-700","bg-white","dark:bg-gray-800","text-gray-800","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-green-500","transition",3,"ngModelChange","ngModel"],["for","availability",1,"block","text-gray-700","dark:text-gray-300","mb-2","font-medium"],[1,"bi","bi-check-circle","mr-2"],["id","availability","name","availability",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-300","dark:border-gray-700","bg-white","dark:bg-gray-800","text-gray-800","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-green-500","transition",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value"],["for","minPrice",1,"block","text-gray-700","dark:text-gray-300","mb-2","font-medium"],[1,"bi","bi-cash-coin","mr-2"],["type","number","id","minPrice","name","minPrice","placeholder","Minimum price",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-300","dark:border-gray-700","bg-white","dark:bg-gray-800","text-gray-800","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-green-500","transition",3,"ngModelChange","ngModel"],["for","maxPrice",1,"block","text-gray-700","dark:text-gray-300","mb-2","font-medium"],[1,"bi","bi-cash-stack","mr-2"],["type","number","id","maxPrice","name","maxPrice","placeholder","Maximum price",1,"w-full","px-4","py-3","rounded-xl","border","border-gray-300","dark:border-gray-700","bg-white","dark:bg-gray-800","text-gray-800","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-green-500","transition",3,"ngModelChange","ngModel"],[1,"flex","items-end"],["type","submit",1,"w-full","bg-green-600","hover:bg-green-700","text-white","px-6","py-3","rounded-xl","font-semibold","shadow","transition","duration-300"],[1,"bi","bi-search","mr-2"],["type","button",1,"w-full","bg-red-50","text-red-600","hover:bg-red-100","border","border-red-300","px-6","py-3","rounded-xl","font-semibold","shadow","transition","duration-300",3,"click"],[1,"bi","bi-arrow-counterclockwise","mr-2"],[1,"row","g-4"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"card","h-100","shadow-sm"],[1,"card-body","d-flex","flex-column"],[1,"card-title","text-truncate",3,"title"],[1,"card-text","text-muted","small"],[1,"mb-2"],[1,"badge","bg-primary"],[1,"badge","bg-success"],[1,"list-group","list-group-flush","mb-2","small"],[1,"list-group-item","px-0","py-1"],[1,"mt-auto","d-grid","gap-2"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"btn","btn-success","btn-sm",3,"click"]],template:function(t,e){t&1&&h(0,ne,11,0,"div",0)(1,ae,51,10,"div",1),t&2&&(f("ngIf",e.loading),a(),f("ngIf",!e.loading&&!e.selectedproduct&&e.products.length>0))},dependencies:[T,D,O,L,N,X,G,J,K,j,H,Q,U,R,q,z],styles:[".product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:10px;margin-top:60px}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:120px;height:auto;margin-bottom:8px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:5px;margin-top:10px;flex-wrap:wrap}button[_ngcontent-%COMP%]{padding:4px 10px;font-size:13px;border:none;border-radius:5px;cursor:pointer;background-color:#79f208;color:#fff;flex:1}button[_ngcontent-%COMP%]:hover{background-color:#24b300}.card-text[_ngcontent-%COMP%]{font-size:.85rem}.btn[_ngcontent-%COMP%]{font-size:.8rem}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003;transform:scale(1.02);transition:all .3s ease}.product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:8px}.product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.card[_ngcontent-%COMP%]{background:#fff9;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.3);border-radius:1.25rem;transition:all .3s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 24px #0003}","@keyframes _ngcontent-%COMP%_progressFill{0%{width:0%}50%{width:70%}to{width:100%}}"]})};export{re as ProductinventoryComponent};
