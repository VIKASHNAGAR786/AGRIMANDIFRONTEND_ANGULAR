import{B as m,Ja as p,Ka as h,Ma as g,Za as a,i,j as u,p as o,s as l}from"./chunk-KVYML7P3.js";var d=class s{constructor(e,r){this.http=e;this.platformId=r}BASE_URL=a.BASE_URL;registerAsBuyerUrl=a.APIUrl+"Buyer/Registerasabuyer";savefarmerurl=a.APIUrl+"Farmer/Savefarmer";getfarmerurl=a.APIUrl+"Farmer/Getfarmerdata";getFarmerIdUrl=a.APIUrl+"Product/GetFarmerId";saveProfileImage=a.AccountApiUrl+"SaveProfileimage/Save_Profile_image";getprofileimage=a.AccountApiUrl+"GetProfileImage/get-profile-image";getallbuyers=a.APIUrl+"Buyer/GetAllBuyers";getbuyerbyid=a.APIUrl+"Buyer/GetBuyerById";getbuyerid=a.APIUrl+"Buyer/GetBuyerID";getAuthHeaders(){if(p(this.platformId)){let e=localStorage.getItem("auth_token");return new h({Authorization:`Bearer ${e}`})}return null}registerAsBuyer(e){let r=this.getAuthHeaders();return r?this.http.post(this.registerAsBuyerUrl,e,{headers:r}):i(null)}saveFarmer(e){let r=this.getAuthHeaders();return r?this.http.post(this.savefarmerurl,e,{headers:r}):i(null)}getFarmerData(){let e=this.getAuthHeaders();return e?this.http.get(this.getfarmerurl,{headers:e}):i(null)}getFarmerId(e,r){return this.http.get(`${this.getFarmerIdUrl}?email=${e}&name=${r}`)}uploadProfileImage(e,r){let t=new FormData;t.append("file",e,e.name),t.append("userid",r.toString());let n=this.getAuthHeaders();return n?this.http.post(this.saveProfileImage,t,{headers:n}):i(null)}getProfileImage(e){let r=this.getAuthHeaders(),t=`${this.getprofileimage}?userid=${e}`;return r?this.http.get(t,{headers:r,responseType:"blob"}):i(new Blob)}GetAllBuyers(){let e=this.getAuthHeaders();return e?this.http.get(this.getallbuyers,{headers:e}).pipe(u(r=>r.map(t=>(t.profileimage?t.profileImageUrl=`${this.BASE_URL}/UserProfileImages/${t.profileimage}`:t.profileImageUrl="images/profile.jpeg",t)))):i([])}GetBuyerById(e){let r=this.getAuthHeaders();if(!r)return i(null);let t=`${this.getbuyerbyid}?buyerid=${e}`;return this.http.get(t,{headers:r})}GetBuyerByIdForProfile(e){let r=this.getAuthHeaders();if(!r)return i(null);let t=`${this.getbuyerbyid}?buyerid=${e}`;return this.http.get(t,{headers:r})}Getbuyerid(e){let r=this.getAuthHeaders();if(!r)return i(null);let t=`${this.getbuyerid}?userid=${e}`;return this.http.get(t,{headers:r})}static \u0275fac=function(r){return new(r||s)(l(g),l(m))};static \u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})};export{d as a};
