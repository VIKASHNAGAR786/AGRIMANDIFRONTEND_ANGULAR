import{a as h,c as d,g as i}from"./chunk-IGCKH4AD.js";import{s as p}from"./chunk-MAX6BBNP.js";import{R as o,W as l,q as a,u,ua as m}from"./chunk-AH7AU653.js";var g=class s{constructor(e,r){this.http=e;this.platformId=r}BASE_URL=i.BASE_URL;registerAsBuyerUrl=i.APIUrl+"Buyer/Registerasabuyer";savefarmerurl=i.APIUrl+"Farmer/Savefarmer";getfarmerurl=i.APIUrl+"Farmer/Getfarmerdata";getFarmerIdUrl=i.APIUrl+"Product/GetFarmerId";saveProfileImage=i.AccountApiUrl+"SaveProfileimage/Save_Profile_image";getprofileimage=i.AccountApiUrl+"GetProfileImage/get-profile-image";getallbuyers=i.APIUrl+"Buyer/GetAllBuyers";getbuyerbyid=i.APIUrl+"Buyer/GetBuyerById";getbuyerid=i.APIUrl+"Buyer/GetBuyerID";getAuthHeaders(){if(p(this.platformId)){let e=localStorage.getItem("auth_token");return new h({Authorization:`Bearer ${e}`})}return null}registerAsBuyer(e){let r=this.getAuthHeaders();return r?this.http.post(this.registerAsBuyerUrl,e,{headers:r}):a(null)}saveFarmer(e){let r=this.getAuthHeaders();return r?this.http.post(this.savefarmerurl,e,{headers:r}):a(null)}getFarmerData(){let e=this.getAuthHeaders();return e?this.http.get(this.getfarmerurl,{headers:e}):a(null)}getFarmerId(e,r){let t=this.getAuthHeaders();return t?this.http.get(`${this.getFarmerIdUrl}?email=${e}&name=${r}`,{headers:t}):a(null)}uploadProfileImage(e,r){let t=new FormData;t.append("file",e,e.name),t.append("userid",r.toString());let n=this.getAuthHeaders();return n?this.http.post(this.saveProfileImage,t,{headers:n}):a(null)}getProfileImage(e){let r=this.getAuthHeaders(),t=`${this.getprofileimage}?userid=${e}`;return r?this.http.get(t,{headers:r,responseType:"blob"}):a(new Blob)}GetAllBuyers(){let e=this.getAuthHeaders();return e?this.http.get(this.getallbuyers,{headers:e}).pipe(u(r=>r.map(t=>(t.profileimage?t.profileImageUrl=`${this.BASE_URL}/UserProfileImages/${t.profileimage}`:t.profileImageUrl="images/profile.jpeg",t)))):a([])}GetBuyerById(e){let r=this.getAuthHeaders();if(!r)return a(null);let t=`${this.getbuyerbyid}?buyerid=${e}`;return this.http.get(t,{headers:r})}GetBuyerByIdForProfile(e){let r=this.getAuthHeaders();if(!r)return a(null);let t=`${this.getbuyerbyid}?buyerid=${e}`;return this.http.get(t,{headers:r})}Getbuyerid(e){let r=this.getAuthHeaders();if(!r)return a(null);let t=`${this.getbuyerid}?userid=${e}`;return this.http.get(t,{headers:r})}static \u0275fac=function(r){return new(r||s)(l(d),l(m))};static \u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})};export{g as a};
