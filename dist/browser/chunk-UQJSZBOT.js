import{a}from"./chunk-NLJOITTN.js";import{a as d}from"./chunk-GMVHBDDR.js";import{b as h,d as g}from"./chunk-6HB3LA7G.js";import{s as p}from"./chunk-5OO754BD.js";import{V as u,_ as s,s as i,x as l,za as m}from"./chunk-SR3MDXF7.js";var f=class n{constructor(e,r,t){this.http=e;this.platformId=r;this.userInfo=t}BASE_URL=a.BASE_URL;registerAsBuyerUrl=a.APIUrl+"Buyer/Registerasabuyer";savefarmerurl=a.APIUrl+"Farmer/Savefarmer";getfarmerurl=a.APIUrl+"Farmer/Getfarmerdata";getFarmerIdUrl=a.APIUrl+"Product/GetFarmerId";saveProfileImage=a.AccountApiUrl+"SaveProfileimage/Save_Profile_image";getprofileimage=a.AccountApiUrl+"GetProfileImage/get-profile-image";getallbuyers=a.APIUrl+"Buyer/GetAllBuyers";getbuyerbyid=a.APIUrl+"Buyer/GetBuyerById";getbuyerid=a.APIUrl+"Buyer/GetBuyerID";getAuthHeaders(){if(p(this.platformId)){let e=this.userInfo.getToken();return new h({Authorization:`Bearer ${e}`})}return null}registerAsBuyer(e){let r=this.getAuthHeaders();return r?this.http.post(this.registerAsBuyerUrl,e,{headers:r}):i(null)}saveFarmer(e){let r=this.getAuthHeaders();return r?this.http.post(this.savefarmerurl,e,{headers:r}):i(null)}getFarmerData(){let e=this.getAuthHeaders();return e?this.http.get(this.getfarmerurl,{headers:e}):i(null)}getFarmerId(e,r){let t=this.getAuthHeaders();return t?this.http.get(`${this.getFarmerIdUrl}?email=${e}&name=${r}`,{headers:t}):i(null)}uploadProfileImage(e,r){let t=new FormData;t.append("file",e,e.name),t.append("userid",r.toString());let o=this.getAuthHeaders();return o?this.http.post(this.saveProfileImage,t,{headers:o}):i(null)}getProfileImage(e){let r=this.getAuthHeaders(),t=`${this.getprofileimage}?userid=${e}`;return r?this.http.get(t,{headers:r,responseType:"blob"}):i(new Blob)}GetAllBuyers(){let e=this.getAuthHeaders();return e?this.http.get(this.getallbuyers,{headers:e}).pipe(l(r=>r.map(t=>(t.profileimage?t.profileImageUrl=`${this.BASE_URL}/UserProfileImages/${t.profileimage}`:t.profileImageUrl="images/profile.jpeg",t)))):i([])}GetBuyerById(e){let r=this.getAuthHeaders();if(!r)return i(null);let t=`${this.getbuyerbyid}?buyerid=${e}`;return this.http.get(t,{headers:r})}GetBuyerByIdForProfile(e){let r=this.getAuthHeaders();if(!r)return i(null);let t=`${this.getbuyerbyid}?buyerid=${e}`;return this.http.get(t,{headers:r})}Getbuyerid(e){let r=this.getAuthHeaders();if(!r)return i(null);let t=`${this.getbuyerid}?userid=${e}`;return this.http.get(t,{headers:r})}static \u0275fac=function(r){return new(r||n)(s(g),s(m),s(d))};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};export{f as a};
