import{a as S}from"./chunk-UQJSZBOT.js";import"./chunk-NLJOITTN.js";import"./chunk-GMVHBDDR.js";import{j as I,l as E}from"./chunk-6HB3LA7G.js";import{l as B,m as M,q as D}from"./chunk-5OO754BD.js";import{Bb as O,Ga as v,Gb as P,J as y,Ka as a,Pa as p,Qb as k,Ua as h,Za as l,eb as c,ga as g,ha as b,hb as t,ib as n,jb as x,mb as C,pb as _,qb as m,wb as w,xb as i,zb as s}from"./chunk-SR3MDXF7.js";var F=()=>[1,2,3];function N(r,o){r&1&&(t(0,"div",7)(1,"div",8),x(2,"div",9)(3,"div",10)(4,"div",11),n()())}function T(r,o){r&1&&(t(0,"div",5),l(1,N,5,0,"div",6),n()),r&2&&(a(),c("ngForOf",P(1,F)))}function R(r,o){if(r&1){let e=C();t(0,"div",5)(1,"div",7)(2,"div",14)(3,"div",15),x(4,"img",16),t(5,"div",17)(6,"h5",18),i(7),t(8,"span",19),i(9),n()(),t(10,"p",20),i(11,"\u{1F4DE} "),t(12,"strong"),i(13,"Contact:"),n(),i(14),n(),t(15,"p",20),i(16,"\u{1F4CD} "),t(17,"strong"),i(18,"Location:"),n(),i(19),n(),t(20,"p",21),i(21,"\u{1F4E6} "),t(22,"strong"),i(23,"Total Orders:"),n(),i(24),n(),t(25,"button",22),_("click",function(){let u=g(e).$implicit,f=m(3);return b(f.contactBuyer(u))}),i(26,"Contact Buyer"),n(),t(27,"button",22),_("click",function(){let u=g(e).$implicit,f=m(3);return b(f.viewDetails(u))}),i(28,"See Profile"),n()()()()()()}if(r&2){let e=o.$implicit;a(4),c("src",e.profileImageUrl||"assets/default-profile.png",v),a(3),s(" ",e.companyName||"Unknown Company"," "),a(2),s("Rating: ",e.buyerRating||"No Rating",""),a(5),s(" ",e.contactNumber||"N/A",""),a(5),O(" ",e.city||"N/A",", ",e.state||"N/A",", ",e.country||"N/A",""),a(5),s(" ",e.totalOrders||0,"")}}function z(r,o){if(r&1&&(t(0,"div"),l(1,R,29,8,"div",13),n()),r&2){let e=m(2);a(),c("ngForOf",e.buyers)}}function U(r,o){r&1&&(t(0,"div",23)(1,"div",24)(2,"p",25),i(3," \u{1F512} Kindly "),t(4,"span",26),i(5,"log in"),n(),i(6," to unveil the marketplace magic! "),n(),t(7,"p",27),i(8," Only the worthy may pass beyond this gate... "),n()()())}function j(r,o){if(r&1&&(t(0,"div")(1,"div"),l(2,z,2,1,"div",12)(3,U,9,0,"ng-template",null,0,k),n()()),r&2){let e=w(4),d=m();a(2),c("ngIf",((d.buyers==null?null:d.buyers.length)||0)!==0)("ngIfElse",e)}}var A=class r{constructor(o,e,d){this.userserivice=o;this.router=e;this.route=d}buyers=[];loading=!0;selectedbuyer=null;ngOnInit(){this.checkAndLoadData()}checkAndLoadData(){this.route.params.subscribe(o=>{this.loadallbuyers(()=>{})})}loadallbuyers(o){this.loading=!0,this.userserivice.GetAllBuyers().pipe(y(()=>{this.loading=!1})).subscribe({next:e=>{this.buyers=e,console.log("\u2705 All buyers loaded:",this.buyers),o&&o()},error:e=>{console.error("\u274C Error loading buyers:",e)}})}viewDetails(o){this.router.navigate(["/buyer",o.buyerId],{queryParams:{Image:o.profileImageUrl}})}goBackToList(){this.router.navigate(["/buyer"])}contactBuyer(o){console.log("\u{1F4DE} Contacting farmer for:",o)}static \u0275fac=function(e){return new(e||r)(p(S),p(E),p(I))};static \u0275cmp=h({type:r,selectors:[["app-buyer"]],decls:5,vars:2,consts:[["noBuyer",""],[1,"container","my-5"],[1,"text-center"],["class","row mb-4",4,"ngIf"],[4,"ngIf"],[1,"row","mb-4"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"card","buyer-card","p-3","shadow-sm","shimmer-card"],[1,"shimmer-line","mb-2"],[1,"shimmer-line","w-75","mb-2"],[1,"shimmer-line","w-50"],[4,"ngIf","ngIfElse"],["class","row mb-4",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000",1,"card","buyer-card","p-3","shadow-sm"],[1,"card-body","d-flex","align-items-center"],["alt","Buyer Profile",1,"rounded-circle","me-4","buyer-profile",3,"src"],[1,"flex-grow-1"],[1,"card-title","mb-2"],[1,"badge"],[1,"card-text","mb-1"],[1,"card-text","mb-0"],[1,"btn","btn-custom","mt-3",3,"click"],[1,"tw"],[1,"flex","flex-col","items-center","justify-center","py-10","px-4","bg-gradient-to-r","from-indigo-900","via-purple-800","to-indigo-900","rounded-xl","shadow-2xl","animate-fade-in"],[1,"text-xl","font-semibold","text-white","tracking-wide"],[1,"text-yellow-300"],[1,"text-sm","text-purple-200","mt-2","italic"]],template:function(e,d){e&1&&(t(0,"main",1)(1,"h2",2),i(2,"\u{1F31F} Buyer Details \u{1F31F}"),n(),l(3,T,2,2,"div",3)(4,j,5,2,"div",4),n()),e&2&&(a(3),c("ngIf",d.loading),a(),c("ngIf",!d.loading&&!d.selectedbuyer))},dependencies:[D,B,M],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:12px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;border:2px solid #ddd}h2[_ngcontent-%COMP%]{font-weight:600}body[_ngcontent-%COMP%]{padding-top:80px;background:linear-gradient(135deg,#e0f7fa,#f8bbd0);min-height:100vh;font-family:Poppins,sans-serif}.navbar[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1050}.buyer-card[_ngcontent-%COMP%]{background:#ffffff40;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.18);border-radius:1.5rem;box-shadow:0 8px 32px #1f26875e;transition:all .4s ease}.buyer-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 12px 40px #1f268780}.buyer-profile[_ngcontent-%COMP%]{width:90px;height:90px;object-fit:cover;border:3px solid #ffffff;box-shadow:0 0 10px #0003}.btn-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,#2575fc,#6a11cb);color:#fff;border-radius:30px;font-weight:700;transition:.3s}.btn-custom[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#6a11cb,#2575fc);transform:scale(1.05)}h2[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:2rem}.badge[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,#2575fc,#6a11cb);font-size:.75rem;padding:5px 10px;border-radius:12px;color:#fff;margin-left:5px}@media (max-width: 768px){.card-body.d-flex[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:1rem}}.shimmer-card[_ngcontent-%COMP%]{background:#ffffff40;border-radius:1.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 8px 32px #1f26875e;overflow:hidden}.shimmer-line[_ngcontent-%COMP%]{height:12px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:6px}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.w-75[_ngcontent-%COMP%]{width:75%}.w-50[_ngcontent-%COMP%]{width:50%}.info-item[_ngcontent-%COMP%]{background:#f8f9fa;padding:12px 15px;border-radius:8px;border:1px solid #dee2e6;font-size:.95rem;box-shadow:0 1px 3px #00000008;transition:box-shadow .2s ease}.info-item[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{font-size:1.2rem;margin-right:10px}.info-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #0000000f}"]})};export{A as BuyerComponent};
